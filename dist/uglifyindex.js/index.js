"use strict";function setup(){$(".start").on("click",function(){$.ajax("https://opentdb.com/api_token.php?command=request").done(function(e){sessionToken=e.token,console.log(sessionToken)}),$(".greeting").addClass("animated bounceOutRight"),$(".start").addClass("animated bounceOutLeft"),setTimeout(function(){$(".startPage").hide(),$(".setup").css("display","block")},600)})}function shuffleArray(e){for(var n=e.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1)),s=e[n];e[n]=e[o],e[o]=s}}function callAPI(){$(".button").on("click",function(){var e=$(".category").val();console.log(categories[e]);var n=categories[e],o=$(".difficulty").val();$.ajax("https://opentdb.com/api.php?amount=10&token="+sessionToken+"&category="+n+"&difficulty="+o).done(function(e){console.log(e),0!==e.response_code?(console.log("noooo"),$.ajax("https://opentdb.com/api.php?amount=10&token="+sessionToken+"&category="+n).done(function(e){apiInfo=e.results,console.log(apiInfo),loadQuestion()})):(apiInfo=e.results,console.log(apiInfo),loadQuestion())})})}function loadQuestion(){if(questionInfo<=9){answers.push(apiInfo[questionInfo].correct_answer),correctAnsArr.push(apiInfo[questionInfo].correct_answer);for(var e=0;e<apiInfo[questionInfo].incorrect_answers.length;e++)answers.push(apiInfo[questionInfo].incorrect_answers[e]);console.log(answers),shuffleArray(answers),$(".question").html(apiInfo[questionInfo].question),$(".questionNumber").html(questionInfo+1+" of 10");for(var n=0;n<answers.length;n++)$(".answers").append('<label for="'+answers[n]+'"><input type="radio" name="answer" class="'+answers[n]+'" value="'+answers[n]+'">'+answers[n]+"</label>");$(".categoryHeader").addClass("animated bounceOutRight"),$(".categoryDropdowns").addClass("animated bounceOutLeft"),setTimeout(function(){$(".setup").fadeOut(300),$(".questionPage").fadeIn(300).css("display","block")},600)}console.log(answers)}function nextQ(){$(".nextQ").on("click",function(){void 0!=ua&&(clearAnswers(),answers=[],questionInfo+=1,loadQuestion(),console.log(questionInfo))})}function noAnswer(){void 0==ua?($(".questionPage").fadeOut(300).delay(1200).fadeIn(300),$(".lightBox").fadeIn(300).delay(1e3).fadeOut(300),$(".noAnswer").fadeIn(200).delay(1e3).fadeOut(300)):correctAnswer()}function clearAnswers(){$(".answers").empty()}function userAnswer(){$(".nextQ").on("click",function(){ua=$(".answers").find("input:checked").val(),void 0!==ua&&userAnsArr.push(ua),console.log(userAnsArr),noAnswer(),endOfGame()})}function correctAnswer(){ua==apiInfo[questionInfo].correct_answer&&(score+=1)}function endOfGame(){questionInfo>=9&&(correct=" ",resultsPage())}function resultsPage(){$(".questionPage").fadeOut(400),$(".resultsPage").fadeIn(400).css("display","grid"),$(".resultsScore").html("Your Score is: "+score+" out of 10");for(var e=0;e<10;e++)$(".correctAnswers").fadeIn(400).css("display","grid").append('<div class="resultsQuestion">Q '+[e+1]+":\n\t\t\t"+apiInfo[e].question+'</div><div class="resultsCorrect">Correct answer: '+apiInfo[e].correct_answer+'</div>\n\t\t\t<div class="resultsUA'+e+'">Your answer: '+userAnsArr[e]+"</div>"),resultsColor();$(".playAgain").fadeIn(400)}function resultsColor(){console.log("hello"),console.log(correctAnsArr),console.log(userAnsArr);for(var e=0;e<10;e++)correctAnsArr[e]==userAnsArr[e]?$(".resultsUA"+e).css("color","green"):$(".resultsUA"+e).css("color","red")}function playAgain(){$(".playAgain").on("click",function(){questionInfo=0,score=0,userAnsArr=[],correctAnsArr=[],answers=[],$.ajax("https://opentdb.com/api_token.php?command=request").done(function(e){sessionToken=e.token,$(".playAgain").fadeOut(200),$(".correctAnswers").empty(),$(".correctAnswers").fadeOut(200),$(".resultsPage").fadeOut(400),$(".setup").fadeIn(400),$(".categoryHeader").removeClass("animated bounceOutRight"),$(".categoryDropdowns").removeClass("animated bounceOutLeft")})})}var sessionToken=void 0,questionInfo=0,apiInfo=void 0,userAnsArr=[],correctAnsArr=[],score=0,categories={gn:9,enB:10,enF:11,enM:12,enT:14,enVG:15,enBG:16,sciNa:17,sciC:18,sciM:19,myth:20,sport:21,geo:22,hist:23,poli:24,celeb:26,animal:27,veh:28},answers=[];$(function(){userAnswer(),callAPI(),nextQ(),setup(),playAgain()});